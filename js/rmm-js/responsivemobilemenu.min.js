function responsiveMobileMenu() { $(".rmm").each(function () { $(this).children("ul").addClass("rmm-main-list"); var i = $(this).attr("data-menu-style"); "undefined" == typeof i || 0 == i ? $(this).addClass("graphite") : $(this).addClass(i); var s = 0; $(this).find("ul li").each(function () { s += $(this).outerWidth() }), $.support.leadingWhitespace ? $(this).css("max-width", 1.05 * s + "px") : $(this).css("width", 1.05 * s + "px") }) } function getMobileMenu() { $(".rmm").each(function () { var i = $(this).attr("data-menu-title"); "" == i ? i = "Menu" : void 0 == i && (i = "Menu"); var s = $(this).children(".rmm-main-list").html(), t = "<div class='rmm-toggled-controls'><div class='rmm-toggled-title'>" + i + "</div><div class='rmm-button'><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span></div></div>"; $(this).prepend("<div class='rmm-toggled rmm-closed'>" + t + "<ul>" + s + "</ul></div>") }) } function adaptMenu() { $(".rmm").each(function () { var i = $(this).css("max-width"); i = i.replace("px", ""), $(this).parent().width() < 1.05 * i ? ($(this).children(".rmm-main-list").hide(0), $(this).children(".rmm-toggled").show(0)) : ($(this).children(".rmm-main-list").show(0), $(this).children(".rmm-toggled").hide(0)) }) } $(function () { responsiveMobileMenu(), getMobileMenu(), adaptMenu(), $(".rmm-toggled, .rmm-toggled .rmm-button").click(function () { $(this).is(".rmm-closed") ? ($(this).find("ul").stop().show(300), $(this).removeClass("rmm-closed")) : ($(this).find("ul").stop().hide(300), $(this).addClass("rmm-closed")) }) }), $(window).resize(function () { adaptMenu() });